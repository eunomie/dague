<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# config

```go
import "github.com/eunomie/dague/config"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func IsMapping(i interface{}) bool](<#func-ismapping>)
- [func IsScalar(i interface{}) bool](<#func-isscalar>)
- [func IsSequence(i interface{}) bool](<#func-issequence>)
- [func YAML(sources [][]byte, strict bool) (*bytes.Buffer, error)](<#func-yaml>)
- [func describe(i interface{}) string](<#func-describe>)
- [func merge(into, from interface{}, strict bool) (interface{}, error)](<#func-merge>)
- [type Build](<#type-build>)
- [type Cache](<#type-cache>)
- [type Dague](<#type-dague>)
  - [func Load(ctx context.Context) (Dague, error)](<#func-load>)
  - [func (d *Dague) VarsDup() map[string]string](<#func-dague-varsdup>)
- [type Exec](<#type-exec>)
- [type Export](<#type-export>)
- [type Fmt](<#type-fmt>)
- [type Go](<#type-go>)
- [type Goimports](<#type-goimports>)
- [type Golangci](<#type-golangci>)
- [type Govulncheck](<#type-govulncheck>)
- [type Image](<#type-image>)
- [type Lint](<#type-lint>)
- [type Target](<#type-target>)
- [type Task](<#type-task>)
- [type Tasks](<#type-tasks>)
- [type mapping](<#type-mapping>)
  - [func mergeMapping(into, from mapping, strict bool) (mapping, error)](<#func-mergemapping>)
- [type sequence](<#type-sequence>)


## Constants

```go
const (
    defaultConfigFile = ".dague.yml"
)
```

## Variables

```go
var defaults []byte
```

## func IsMapping

```go
func IsMapping(i interface{}) bool
```

IsMapping reports whether a type is a mapping in YAML, represented as a map\[interface\{\}\]interface\{\}.

## func IsScalar

```go
func IsScalar(i interface{}) bool
```

IsScalar reports whether a type is a scalar value in YAML.

## func IsSequence

```go
func IsSequence(i interface{}) bool
```

IsSequence reports whether a type is a sequence in YAML, represented as an \[\]interface\{\}.

## func YAML

```go
func YAML(sources [][]byte, strict bool) (*bytes.Buffer, error)
```

YAML deep\-merges any number of YAML sources, with later sources taking priority over earlier ones.

Maps are deep\-merged. For example,

```
{"one": 1, "two": 2} + {"one": 42, "three": 3}
== {"one": 42, "two": 2, "three": 3}
```

Sequences are replaced. For example,

```
{"foo": [1, 2, 3]} + {"foo": [4, 5, 6]}
== {"foo": [4, 5, 6]}
```

In non\-strict mode, duplicate map keys are allowed within a single source, with later values overwriting previous ones. Attempting to merge mismatched types \(e.g., merging a sequence into a map\) replaces the old value with the new.

Enabling strict mode returns errors in both of the above cases.

## func describe

```go
func describe(i interface{}) string
```

## func merge

```go
func merge(into, from interface{}, strict bool) (interface{}, error)
```

## type Build

```go
type Build struct {
    Targets map[string]Target `yaml:"targets"`
}
```

## type Cache

```go
type Cache struct {
    Target string `yaml:"target"`
}
```

## type Dague

```go
type Dague struct {
    Vars  map[string]string `yaml:"vars"`
    Go    Go                `yaml:"go"`
    Tasks Tasks             `yaml:"tasks"`
}
```

### func Load

```go
func Load(ctx context.Context) (Dague, error)
```

### func \(\*Dague\) VarsDup

```go
func (d *Dague) VarsDup() map[string]string
```

## type Exec

```go
type Exec struct {
    Deps   []string `yaml:"deps"`
    Cmds   string   `yaml:"cmds"`
    Export Export   `yaml:"export"`
}
```

## type Export

```go
type Export struct {
    Pattern string `yaml:"pattern"`
    Path    string `yaml:"path"`
}
```

## type Fmt

```go
type Fmt struct {
    Formatter string    `yaml:"formatter"`
    Goimports Goimports `yaml:"goimports"`
}
```

## type Go

```go
type Go struct {
    Image  Image           `yaml:"image"`
    AppDir string          `yaml:"appDir"`
    Fmt    Fmt             `yaml:"fmt"`
    Lint   Lint            `yaml:"lint"`
    Build  Build           `yaml:"build"`
    Exec   map[string]Exec `yaml:"exec"`
}
```

## type Goimports

```go
type Goimports struct {
    Locals []string `yaml:"locals"`
}
```

## type Golangci

```go
type Golangci struct {
    Enable bool   `yaml:"enable"`
    Image  string `yaml:"image"`
}
```

## type Govulncheck

```go
type Govulncheck struct {
    Enable bool `yaml:"enable"`
}
```

## type Image

```go
type Image struct {
    Src         string            `yaml:"src"`
    AptPackages []string          `yaml:"aptPackages"`
    ApkPackages []string          `yaml:"apkPackages"`
    GoPackages  []string          `yaml:"goPackages"`
    Mounts      map[string]string `yaml:"mounts"`
    Env         map[string]string `yaml:"env"`
    Caches      []Cache           `yaml:"caches"`
}
```

## type Lint

```go
type Lint struct {
    Govulncheck Govulncheck `yaml:"govulncheck"`
    Golangci    Golangci    `yaml:"golangci"`
}
```

## type Target

```go
type Target struct {
    Path      string            `yaml:"path"`
    Out       string            `yaml:"out"`
    Env       map[string]string `yaml:"env"`
    Ldflags   string            `yaml:"ldflags"`
    Platforms []string          `yaml:"platforms,omitempty"`
}
```

## type Task

```go
type Task struct {
    Deps []string `yaml:"deps"`
    Cmds string   `yaml:"cmds"`
}
```

## type Tasks

```go
type Tasks map[string]Task
```

## type mapping

YAML has three fundamental types. When unmarshaled into interface\{\}, they're represented like this.

```go
type mapping = map[interface{}]interface{}
```

### func mergeMapping

```go
func mergeMapping(into, from mapping, strict bool) (mapping, error)
```

## type sequence

```go
type sequence = []interface{}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->