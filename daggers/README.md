<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# daggers

```go
import "github.com/eunomie/dague/daggers"
```

## Index

- [Variables](<#variables>)
- [func ApplyFormatAndImports(ctx context.Context, c *Client, formatter string, locals []string) error](<#func-applyformatandimports>)
- [func ApplyGoformatter(ctx context.Context, c *Client, formatter string) error](<#func-applygoformatter>)
- [func CheckGoDoc(ctx context.Context, c *Client) error](<#func-checkgodoc>)
- [func CrossBuild(ctx context.Context, c *Client, buildOpts types.CrossBuildOpts) error](<#func-crossbuild>)
- [func ExportGoMod(ctx context.Context, c *Client) error](<#func-exportgomod>)
- [func GoBase(c *Client) *dagger.Container](<#func-gobase>)
- [func GoDeps(c *Client) *dagger.Container](<#func-godeps>)
- [func GoDoc(ctx context.Context, c *Client) error](<#func-godoc>)
- [func GoImports(ctx context.Context, c *Client, locals []string) error](<#func-goimports>)
- [func GoMod(c *Client) *dagger.Container](<#func-gomod>)
- [func GoVulnCheck(ctx context.Context, c *Client) error](<#func-govulncheck>)
- [func GolangCILint(ctx context.Context, c *Client) error](<#func-golangcilint>)
- [func GolangCILintBase(c *Client) *dagger.Container](<#func-golangcilintbase>)
- [func LocalBuild(ctx context.Context, c *Client, buildOpts types.LocalBuildOpts) error](<#func-localbuild>)
- [func PrintGoformatter(ctx context.Context, c *Client, formatter string) error](<#func-printgoformatter>)
- [func RunGoTests(ctx context.Context, c *Client) error](<#func-rungotests>)
- [func RunInDagger(ctx context.Context, conf *config.Dague, do func(*Client) error) error](<#func-runindagger>)
- [func Sources(c *Client) *dagger.Container](<#func-sources>)
- [func SourcesNoDeps(c *Client) *dagger.Container](<#func-sourcesnodeps>)
- [func applyBase(cont *dagger.Container, c *dagger.Client, conf *config.Dague) *dagger.Container](<#func-applybase>)
- [func formatPrint(formatter string) dagger.ContainerExecOpts](<#func-formatprint>)
- [func formatWrite(formatter string) dagger.ContainerExecOpts](<#func-formatwrite>)
- [func goBuild(ctx context.Context, c *Client, src *dagger.Container, os, arch string, buildOpts types.BuildOpts, buildFile string) error](<#func-gobuild>)
- [func goImports(locals []string) dagger.ContainerExecOpts](<#func-goimports>)
- [func goModDownload() dagger.ContainerExecOpts](<#func-gomoddownload>)
- [func goModFiles(c *Client) *dagger.Directory](<#func-gomodfiles>)
- [func goModTidy() dagger.ContainerExecOpts](<#func-gomodtidy>)
- [func sources(c *Client, cont *dagger.Container) *dagger.Container](<#func-sources>)
- [type Client](<#type-client>)
  - [func NewClient(c *dagger.Client, conf *config.Dague) *Client](<#func-newclient>)


## Variables

```go
var goModDefaulFiles = []string{"go.mod", "go.sum"}
```

## func ApplyFormatAndImports

```go
func ApplyFormatAndImports(ctx context.Context, c *Client, formatter string, locals []string) error
```

## func ApplyGoformatter

```go
func ApplyGoformatter(ctx context.Context, c *Client, formatter string) error
```

## func CheckGoDoc

```go
func CheckGoDoc(ctx context.Context, c *Client) error
```

## func CrossBuild

```go
func CrossBuild(ctx context.Context, c *Client, buildOpts types.CrossBuildOpts) error
```

## func ExportGoMod

```go
func ExportGoMod(ctx context.Context, c *Client) error
```

## func GoBase

```go
func GoBase(c *Client) *dagger.Container
```

GoBase is a default container based on a Golang build image \(see config.BuildImage\) on top of which is installed several packages and Go packages. The workdir is also set based on config.AppDir.

This container is used as the root of many other commands, allowing to share cache as much as possible.

## func GoDeps

```go
func GoDeps(c *Client) *dagger.Container
```

GoDeps mount the Go module files and download the needed dependencies.

## func GoDoc

```go
func GoDoc(ctx context.Context, c *Client) error
```

## func GoImports

```go
func GoImports(ctx context.Context, c *Client, locals []string) error
```

## func GoMod

```go
func GoMod(c *Client) *dagger.Container
```

## func GoVulnCheck

```go
func GoVulnCheck(ctx context.Context, c *Client) error
```

## func GolangCILint

```go
func GolangCILint(ctx context.Context, c *Client) error
```

## func GolangCILintBase

```go
func GolangCILintBase(c *Client) *dagger.Container
```

## func LocalBuild

```go
func LocalBuild(ctx context.Context, c *Client, buildOpts types.LocalBuildOpts) error
```

## func PrintGoformatter

```go
func PrintGoformatter(ctx context.Context, c *Client, formatter string) error
```

## func RunGoTests

```go
func RunGoTests(ctx context.Context, c *Client) error
```

## func RunInDagger

```go
func RunInDagger(ctx context.Context, conf *config.Dague, do func(*Client) error) error
```

## func Sources

```go
func Sources(c *Client) *dagger.Container
```

Sources is a container based on GoDeps. It contains the Go source code but also all the needed dependencies from Go modules.

## func SourcesNoDeps

```go
func SourcesNoDeps(c *Client) *dagger.Container
```

SourcesNoDeps is a container including all the source code, but without the Go modules downloaded. It can be helpful with projects where dependencies are vendored but also just minimise the number of steps when it's not required.

## func applyBase

```go
func applyBase(cont *dagger.Container, c *dagger.Client, conf *config.Dague) *dagger.Container
```

## func formatPrint

```go
func formatPrint(formatter string) dagger.ContainerExecOpts
```

## func formatWrite

```go
func formatWrite(formatter string) dagger.ContainerExecOpts
```

## func goBuild

```go
func goBuild(ctx context.Context, c *Client, src *dagger.Container, os, arch string, buildOpts types.BuildOpts, buildFile string) error
```

## func goImports

```go
func goImports(locals []string) dagger.ContainerExecOpts
```

## func goModDownload

```go
func goModDownload() dagger.ContainerExecOpts
```

GoModDownload runs the go mod download command.

## func goModFiles

```go
func goModFiles(c *Client) *dagger.Directory
```

GoModFiles creates a directory containing the default go mod files.

## func goModTidy

```go
func goModTidy() dagger.ContainerExecOpts
```

GoModTidy runs the go mod tidy command.

## func sources

```go
func sources(c *Client, cont *dagger.Container) *dagger.Container
```

## type Client

```go
type Client struct {
    Dagger *dagger.Client
    Config *config.Dague
}
```

### func NewClient

```go
func NewClient(c *dagger.Client, conf *config.Dague) *Client
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->